{"ast":null,"code":"export const sumItems = cartItems => {\n  return {\n    itemCount: cartItems.reduce((total, prod) => total + prod.quantity, 0),\n    total: cartItems.reduce((total, prod) => total + prod.price * prod.quantity, 0)\n  };\n};\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      // check if item is in cart\n      if (!state.cartItems.find(item => item.id === action.payload.id)) {\n        state.cartItems.push({\n          ...action.payload,\n          quantity: 1\n        });\n      }\n      return {\n        ...state,\n        cartItems: [...state.cartItems],\n        ...sumItems(state.cartItems)\n      };\n    case 'INCREASE':\n      const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      state.cartItems[increaseIndex].quantity++;\n      return {\n        ...state,\n        cartItems: [...state.cartItems],\n        ...sumItems(state.cartItems)\n      };\n    default:\n      return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["sumItems","cartItems","itemCount","reduce","total","prod","quantity","price","cartReducer","state","action","type","find","item","id","payload","push","increaseIndex","findIndex"],"sources":["/home/jiri/lab/stripe-udemy/src/context/cart-reducer.jsx"],"sourcesContent":["export const sumItems = cartItems => {\n    return {\n        itemCount: cartItems.reduce((total, prod ) => total + prod.quantity, 0),\n        total: cartItems.reduce((total, prod) => total + (prod.price * prod.quantity), 0)\n    }\n}\n\nconst cartReducer = (state, action) => {\n    switch(action.type) {\n        case 'ADD_ITEM':\n            // check if item is in cart\n            if (!state.cartItems.find(item => item.id === action.payload.id)) {\n                state.cartItems.push({\n                    ...action.payload,\n                    quantity: 1,\n                })\n            }\n\n            return {\n                ...state,\n                cartItems: [...state.cartItems],\n                ...sumItems(state.cartItems),\n            }; \n        \n            case 'INCREASE':\n                const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n                state.cartItems[increaseIndex].quantity++;\n                \n                return {\n                  ...state,\n                  cartItems: [...state.cartItems],\n                  ...sumItems(state.cartItems),\n                };\n        default:\n            return state;\n    }\n}\n\nexport default cartReducer;"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAGC,SAAS,IAAI;EACjC,OAAO;IACHC,SAAS,EAAED,SAAS,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAMD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC;IACvEF,KAAK,EAAEH,SAAS,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAIC,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACC,QAAS,EAAE,CAAC;EACpF,CAAC;AACL,CAAC;AAED,MAAME,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACnC,QAAOA,MAAM,CAACC,IAAI;IACd,KAAK,UAAU;MACX;MACA,IAAI,CAACF,KAAK,CAACR,SAAS,CAACW,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC,EAAE;QAC9DL,KAAK,CAACR,SAAS,CAACe,IAAI,CAAC;UACjB,GAAGN,MAAM,CAACK,OAAO;UACjBT,QAAQ,EAAE;QACd,CAAC,CAAC;MACN;MAEA,OAAO;QACH,GAAGG,KAAK;QACRR,SAAS,EAAE,CAAC,GAAGQ,KAAK,CAACR,SAAS,CAAC;QAC/B,GAAGD,QAAQ,CAACS,KAAK,CAACR,SAAS;MAC/B,CAAC;IAED,KAAK,UAAU;MACX,MAAMgB,aAAa,GAAGR,KAAK,CAACR,SAAS,CAACiB,SAAS,CAACL,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CAAC;MACtFL,KAAK,CAACR,SAAS,CAACgB,aAAa,CAAC,CAACX,QAAQ,EAAE;MAEzC,OAAO;QACL,GAAGG,KAAK;QACRR,SAAS,EAAE,CAAC,GAAGQ,KAAK,CAACR,SAAS,CAAC;QAC/B,GAAGD,QAAQ,CAACS,KAAK,CAACR,SAAS;MAC7B,CAAC;IACT;MACI,OAAOQ,KAAK;EACpB;AACJ,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}