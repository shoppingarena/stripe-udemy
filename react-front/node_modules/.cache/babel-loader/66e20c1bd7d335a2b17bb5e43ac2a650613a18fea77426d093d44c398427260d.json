{"ast":null,"code":"import React from 'react';\nimport { Animated, Easing, PanResponder, View, StyleSheet } from 'react-native';\nexport const TabViewBase = ({\n  value = 0,\n  children,\n  onChange = () => {},\n  onSwipeStart = () => {},\n  animationType = 'spring',\n  animationConfig = {},\n  containerStyle,\n  tabItemContainerStyle,\n  disableSwipe = false,\n  disableTransition = false,\n  minSwipeRatio = 0.4,\n  minSwipeSpeed = 1\n}) => {\n  const translateX = React.useRef(new Animated.Value(0));\n  const currentIndex = React.useRef(0);\n  const [containerWidth, setContainerWidth] = React.useState(1);\n  const childCount = React.useMemo(() => React.Children.toArray(children).length, [children]);\n  const animate = React.useCallback(toValue => {\n    Animated[animationType](translateX.current, Object.assign({\n      toValue,\n      useNativeDriver: true,\n      easing: Easing.ease\n    }, animationConfig)).start();\n  }, [animationConfig, animationType]);\n  const releaseResponder = React.useCallback((_, {\n    dx,\n    vx\n  }) => {\n    const position = dx / -containerWidth;\n    const shouldSwipe = Math.abs(position) > minSwipeRatio || Math.abs(vx) > minSwipeSpeed;\n    currentIndex.current += shouldSwipe ? Math.sign(position) : 0;\n    animate(currentIndex.current);\n    onChange(currentIndex.current);\n  }, [animate, containerWidth, minSwipeRatio, minSwipeSpeed, onChange]);\n  const panResponder = React.useMemo(() => PanResponder.create({\n    onPanResponderGrant: (_, {\n      vx\n    }) => {\n      onSwipeStart(vx > 0 ? 'left' : 'right');\n    },\n    onMoveShouldSetPanResponder: (_, {\n      dx,\n      dy,\n      vx,\n      vy\n    }) => {\n      const panXInt = Math.floor(currentIndex.current);\n      return !(dx > 0 && panXInt <= 0 || dx < 0 && panXInt >= childCount - 1) && Math.abs(dx) > Math.abs(dy) * 2 && Math.abs(vx) > Math.abs(vy) * 2.5;\n    },\n    onPanResponderMove: (_, {\n      dx\n    }) => {\n      const position = dx / -containerWidth;\n      translateX.current.setValue(Math.floor(currentIndex.current) + position);\n    },\n    onPanResponderRelease: releaseResponder,\n    onPanResponderTerminate: releaseResponder\n  }), [childCount, containerWidth, onSwipeStart, releaseResponder]);\n  React.useEffect(() => {\n    if (Number.isInteger(value) && value !== currentIndex.current) {\n      animate(value);\n      currentIndex.current = value;\n    }\n  }, [animate, value]);\n  return React.createElement(View, {\n    style: [styles.container, containerStyle],\n    onLayout: ({\n      nativeEvent: {\n        layout\n      }\n    }) => {\n      setContainerWidth(layout.width);\n    }\n  }, React.createElement(Animated.View, Object.assign({\n    testID: \"RNE__TabView\",\n    style: StyleSheet.flatten([StyleSheet.absoluteFillObject, styles.container, {\n      width: containerWidth * childCount,\n      transform: [{\n        translateX: disableTransition ? -value * containerWidth : translateX.current.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, -containerWidth]\n        })\n      }]\n    }])\n  }, !disableSwipe && panResponder.panHandlers), React.Children.toArray(children).map((child, index) => React.createElement(View, {\n    key: index,\n    style: StyleSheet.flatten([styles.container, tabItemContainerStyle, {\n      width: containerWidth\n    }])\n  }, child))));\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'stretch'\n  }\n});\nTabViewBase.displayName = 'TabView';","map":{"version":3,"names":["React","Animated","Easing","PanResponder","View","StyleSheet","TabViewBase","value","children","onChange","onSwipeStart","animationType","animationConfig","containerStyle","tabItemContainerStyle","disableSwipe","disableTransition","minSwipeRatio","minSwipeSpeed","translateX","useRef","Value","currentIndex","containerWidth","setContainerWidth","useState","childCount","useMemo","Children","toArray","length","animate","useCallback","toValue","current","Object","assign","useNativeDriver","easing","ease","start","releaseResponder","_","dx","vx","position","shouldSwipe","Math","abs","sign","panResponder","create","onPanResponderGrant","onMoveShouldSetPanResponder","dy","vy","panXInt","floor","onPanResponderMove","setValue","onPanResponderRelease","onPanResponderTerminate","useEffect","Number","isInteger","createElement","style","styles","container","onLayout","nativeEvent","layout","width","testID","flatten","absoluteFillObject","transform","interpolate","inputRange","outputRange","panHandlers","map","child","index","key","flex","flexDirection","alignItems","displayName"],"sources":["/home/jiri/lab/stripe-udemy/node_modules/@rneui/base/dist/TabView/TabView.js"],"sourcesContent":["import React from 'react';\nimport { Animated, Easing, PanResponder, View, StyleSheet, } from 'react-native';\nexport const TabViewBase = ({ value = 0, children, onChange = () => { }, onSwipeStart = () => { }, animationType = 'spring', animationConfig = {}, containerStyle, tabItemContainerStyle, disableSwipe = false, disableTransition = false, minSwipeRatio = 0.4, minSwipeSpeed = 1, }) => {\n    const translateX = React.useRef(new Animated.Value(0));\n    const currentIndex = React.useRef(0);\n    const [containerWidth, setContainerWidth] = React.useState(1);\n    const childCount = React.useMemo(() => React.Children.toArray(children).length, [children]);\n    const animate = React.useCallback((toValue) => {\n        Animated[animationType](translateX.current, Object.assign({ toValue, useNativeDriver: true, easing: Easing.ease }, animationConfig)).start();\n    }, [animationConfig, animationType]);\n    const releaseResponder = React.useCallback((_, { dx, vx }) => {\n        const position = dx / -containerWidth;\n        const shouldSwipe = Math.abs(position) > minSwipeRatio || Math.abs(vx) > minSwipeSpeed;\n        currentIndex.current += shouldSwipe ? Math.sign(position) : 0;\n        animate(currentIndex.current);\n        onChange(currentIndex.current);\n    }, [animate, containerWidth, minSwipeRatio, minSwipeSpeed, onChange]);\n    const panResponder = React.useMemo(() => PanResponder.create({\n        onPanResponderGrant: (_, { vx }) => {\n            onSwipeStart(vx > 0 ? 'left' : 'right');\n        },\n        onMoveShouldSetPanResponder: (_, { dx, dy, vx, vy }) => {\n            const panXInt = Math.floor(currentIndex.current);\n            return (!((dx > 0 && panXInt <= 0) ||\n                (dx < 0 && panXInt >= childCount - 1)) &&\n                Math.abs(dx) > Math.abs(dy) * 2 &&\n                Math.abs(vx) > Math.abs(vy) * 2.5);\n        },\n        onPanResponderMove: (_, { dx }) => {\n            const position = dx / -containerWidth;\n            translateX.current.setValue(Math.floor(currentIndex.current) + position);\n        },\n        onPanResponderRelease: releaseResponder,\n        onPanResponderTerminate: releaseResponder,\n    }), [childCount, containerWidth, onSwipeStart, releaseResponder]);\n    React.useEffect(() => {\n        if (Number.isInteger(value) && value !== currentIndex.current) {\n            animate(value);\n            currentIndex.current = value;\n        }\n    }, [animate, value]);\n    return (React.createElement(View, { style: [styles.container, containerStyle], onLayout: ({ nativeEvent: { layout } }) => {\n            setContainerWidth(layout.width);\n        } },\n        React.createElement(Animated.View, Object.assign({ testID: \"RNE__TabView\", style: StyleSheet.flatten([\n                StyleSheet.absoluteFillObject,\n                styles.container,\n                {\n                    width: containerWidth * childCount,\n                    transform: [\n                        {\n                            translateX: disableTransition\n                                ? -value * containerWidth\n                                : translateX.current.interpolate({\n                                    inputRange: [0, 1],\n                                    outputRange: [0, -containerWidth],\n                                }),\n                        },\n                    ],\n                },\n            ]) }, (!disableSwipe && panResponder.panHandlers)), React.Children.toArray(children).map((child, index) => (React.createElement(View, { key: index, style: StyleSheet.flatten([\n                styles.container,\n                tabItemContainerStyle,\n                { width: containerWidth },\n            ]) }, child))))));\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        flexDirection: 'row',\n        alignItems: 'stretch',\n    },\n});\nTabViewBase.displayName = 'TabView';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}